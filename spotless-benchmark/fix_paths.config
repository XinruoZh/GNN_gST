process {
    // 1. Force physical file copying to fix "File Not Found" errors
    stageInMode = 'copy'

    // 2. OVERRIDE: For GraphST only, use local Conda env instead of broken container
    withName: 'runGraphST' {
        container = null
        conda = '/ocean/projects/cis250160p/xzhaoa/GNN_gST/spotless-benchmark/subworkflows/deconvolution/GraphST/graphst_env'
    }
}

singularity {
    // Keep Singularity enabled for other processes (like converters)
    enabled = true
    runOptions = '--nv -B /ocean'
}
